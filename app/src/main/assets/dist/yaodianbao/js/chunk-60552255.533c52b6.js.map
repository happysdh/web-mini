{"version":3,"sources":["webpack:///./src/views/openClass/autograph.vue?dd35","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?9052","webpack:///./node_modules/signature_pad/dist/signature_pad.js","webpack:///node_modules/vue-signature/src/components/vueSignature.vue","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?21fb","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue","webpack:///./node_modules/vue-signature/src/main.js","webpack:///src/views/openClass/autograph.vue","webpack:///./src/views/openClass/autograph.vue?8657","webpack:///./src/views/openClass/autograph.vue?c1a1","webpack:///./src/views/openClass/autograph.vue?62a5","webpack:///./node_modules/vue-signature/src/components/vueSignature.vue?14ad"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","option","width","height","disabled","on","clear","_v","save","staticRenderFns","style","w","h","$event","preventDefault","uid","Point","x","y","time","Date","now","start","Math","sqrt","pow","other","distanceTo","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","steps","px","py","length","i","t","cx","point","cy","xdiff","ydiff","throttle","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","SignaturePad","canvas","options","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","wasCanvasTouched","target","velocityFilterWeight","minWidth","maxWidth","minDistance","dotSize","penColor","backgroundColor","onBegin","onEnd","prototype","_strokeUpdate","_ctx","getContext","ctx","fillStyle","clearRect","fillRect","_data","_reset","_isEmpty","dataUrl","callback","image","Image","ratio","devicePixelRatio","onload","drawImage","onerror","error","src","type","encoderOptions","_toSVG","toDataURL","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","removeEventListener","document","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","newPointGroup","push","clientX","clientY","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","velocityFrom","newWidth","_strokeWidth","max","moveTo","arc","PI","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","min","_drawCurveSegment","closePath","fill","drawCurve","drawDot","group","j","basicPoint","minX","minY","maxX","maxY","svg","createElementNS","setAttribute","toString","path","createElement","isNaN","attr","toFixed","appendChild","circle","prefix","header","body","innerHTML","undefined","dummy","nodes","childNodes","cloneNode","footer","data","btoa","component"],"mappings":"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","file":"yaodianbao/js/chunk-60552255.533c52b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_vm._m(0),_c('div',[_c('vueSignature',{ref:\"signature\",attrs:{\"sigOption\":_vm.option,\"w\":_vm.width,\"h\":_vm.height,\"disabled\":_vm.disabled}})],1),_c('div',{staticClass:\"footer\"},[_c('button',{staticClass:\"clear\",on:{\"click\":_vm.clear}},[_vm._v(\"重签\")]),_c('button',{staticClass:\"save\",on:{\"click\":_vm.save}},[_vm._v(\"提交\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-title\"},[_c('div',[_c('p',{staticClass:\"title\"},[_vm._v(\"请在屏幕下方签上您的真实姓名\")]),_c('p',{staticClass:\"text-p\"},[_vm._v(\"请保持字迹工整，签名完成后点击下方提交按钮\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({width:_vm.w,height:_vm.h}),on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":_vm.uid,\"data-uid\":_vm.uid,\"disabled\":_vm.disabled}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad\n * (c) 2020 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n    constructor(x, y, time) {\n        this.x = x;\n        this.y = y;\n        this.time = time || Date.now();\n    }\n    distanceTo(start) {\n        return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y && this.time === other.time;\n    }\n    velocityFrom(start) {\n        return this.time !== start.time\n            ? this.distanceTo(start) / (this.time - start.time)\n            : 0;\n    }\n}\n\nclass Bezier {\n    constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n        this.startPoint = startPoint;\n        this.control2 = control2;\n        this.control1 = control1;\n        this.endPoint = endPoint;\n        this.startWidth = startWidth;\n        this.endWidth = endWidth;\n    }\n    static fromPoints(points, widths) {\n        const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n        const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n        return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n    static calculateControlPoints(s1, s2, s3) {\n        const dx1 = s1.x - s2.x;\n        const dy1 = s1.y - s2.y;\n        const dx2 = s2.x - s3.x;\n        const dy2 = s2.y - s3.y;\n        const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n        const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n        const l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n        const l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n        const dxm = m1.x - m2.x;\n        const dym = m1.y - m2.y;\n        const k = l2 / (l1 + l2);\n        const cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n        const tx = s2.x - cm.x;\n        const ty = s2.y - cm.y;\n        return {\n            c1: new Point(m1.x + tx, m1.y + ty),\n            c2: new Point(m2.x + tx, m2.y + ty),\n        };\n    }\n    length() {\n        const steps = 10;\n        let length = 0;\n        let px;\n        let py;\n        for (let i = 0; i <= steps; i += 1) {\n            const t = i / steps;\n            const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n            const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n            if (i > 0) {\n                const xdiff = cx - px;\n                const ydiff = cy - py;\n                length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n            }\n            px = cx;\n            py = cy;\n        }\n        return length;\n    }\n    point(t, start, c1, c2, end) {\n        return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n            + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n            + (3.0 * c2 * (1.0 - t) * t * t)\n            + (end * t * t * t);\n    }\n}\n\nfunction throttle(fn, wait = 250) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    let storedContext;\n    let storedArgs;\n    const later = () => {\n        previous = Date.now();\n        timeout = null;\n        result = fn.apply(storedContext, storedArgs);\n        if (!timeout) {\n            storedContext = null;\n            storedArgs = [];\n        }\n    };\n    return function wrapper(...args) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        storedContext = this;\n        storedArgs = args;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = fn.apply(storedContext, storedArgs);\n            if (!timeout) {\n                storedContext = null;\n                storedArgs = [];\n            }\n        }\n        else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nclass SignaturePad {\n    constructor(canvas, options = {}) {\n        this.canvas = canvas;\n        this.options = options;\n        this._handleMouseDown = (event) => {\n            if (event.which === 1) {\n                this._mouseButtonDown = true;\n                this._strokeBegin(event);\n            }\n        };\n        this._handleMouseMove = (event) => {\n            if (this._mouseButtonDown) {\n                this._strokeMoveUpdate(event);\n            }\n        };\n        this._handleMouseUp = (event) => {\n            if (event.which === 1 && this._mouseButtonDown) {\n                this._mouseButtonDown = false;\n                this._strokeEnd(event);\n            }\n        };\n        this._handleTouchStart = (event) => {\n            event.preventDefault();\n            if (event.targetTouches.length === 1) {\n                const touch = event.changedTouches[0];\n                this._strokeBegin(touch);\n            }\n        };\n        this._handleTouchMove = (event) => {\n            event.preventDefault();\n            const touch = event.targetTouches[0];\n            this._strokeMoveUpdate(touch);\n        };\n        this._handleTouchEnd = (event) => {\n            const wasCanvasTouched = event.target === this.canvas;\n            if (wasCanvasTouched) {\n                event.preventDefault();\n                const touch = event.changedTouches[0];\n                this._strokeEnd(touch);\n            }\n        };\n        this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n        this.minWidth = options.minWidth || 0.5;\n        this.maxWidth = options.maxWidth || 2.5;\n        this.throttle = ('throttle' in options ? options.throttle : 16);\n        this.minDistance = ('minDistance' in options\n            ? options.minDistance\n            : 5);\n        this.dotSize =\n            options.dotSize ||\n                function dotSize() {\n                    return (this.minWidth + this.maxWidth) / 2;\n                };\n        this.penColor = options.penColor || 'black';\n        this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n        this.onBegin = options.onBegin;\n        this.onEnd = options.onEnd;\n        this._strokeMoveUpdate = this.throttle\n            ? throttle(SignaturePad.prototype._strokeUpdate, this.throttle)\n            : SignaturePad.prototype._strokeUpdate;\n        this._ctx = canvas.getContext('2d');\n        this.clear();\n        this.on();\n    }\n    clear() {\n        const { _ctx: ctx, canvas } = this;\n        ctx.fillStyle = this.backgroundColor;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this._data = [];\n        this._reset();\n        this._isEmpty = true;\n    }\n    fromDataURL(dataUrl, options = {}, callback) {\n        const image = new Image();\n        const ratio = options.ratio || window.devicePixelRatio || 1;\n        const width = options.width || this.canvas.width / ratio;\n        const height = options.height || this.canvas.height / ratio;\n        this._reset();\n        image.onload = () => {\n            this._ctx.drawImage(image, 0, 0, width, height);\n            if (callback) {\n                callback();\n            }\n        };\n        image.onerror = (error) => {\n            if (callback) {\n                callback(error);\n            }\n        };\n        image.src = dataUrl;\n        this._isEmpty = false;\n    }\n    toDataURL(type = 'image/png', encoderOptions) {\n        switch (type) {\n            case 'image/svg+xml':\n                return this._toSVG();\n            default:\n                return this.canvas.toDataURL(type, encoderOptions);\n        }\n    }\n    on() {\n        this.canvas.style.touchAction = 'none';\n        this.canvas.style.msTouchAction = 'none';\n        if (window.PointerEvent) {\n            this._handlePointerEvents();\n        }\n        else {\n            this._handleMouseEvents();\n            if ('ontouchstart' in window) {\n                this._handleTouchEvents();\n            }\n        }\n    }\n    off() {\n        this.canvas.style.touchAction = 'auto';\n        this.canvas.style.msTouchAction = 'auto';\n        this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n        document.removeEventListener('pointerup', this._handleMouseUp);\n        this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n        this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n        document.removeEventListener('mouseup', this._handleMouseUp);\n        this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n        this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n        this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n    isEmpty() {\n        return this._isEmpty;\n    }\n    fromData(pointGroups) {\n        this.clear();\n        this._fromData(pointGroups, ({ color, curve }) => this._drawCurve({ color, curve }), ({ color, point }) => this._drawDot({ color, point }));\n        this._data = pointGroups;\n    }\n    toData() {\n        return this._data;\n    }\n    _strokeBegin(event) {\n        const newPointGroup = {\n            color: this.penColor,\n            points: [],\n        };\n        if (typeof this.onBegin === 'function') {\n            this.onBegin(event);\n        }\n        this._data.push(newPointGroup);\n        this._reset();\n        this._strokeUpdate(event);\n    }\n    _strokeUpdate(event) {\n        if (this._data.length === 0) {\n            this._strokeBegin(event);\n            return;\n        }\n        const x = event.clientX;\n        const y = event.clientY;\n        const point = this._createPoint(x, y);\n        const lastPointGroup = this._data[this._data.length - 1];\n        const lastPoints = lastPointGroup.points;\n        const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n        const isLastPointTooClose = lastPoint\n            ? point.distanceTo(lastPoint) <= this.minDistance\n            : false;\n        const color = lastPointGroup.color;\n        if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n            const curve = this._addPoint(point);\n            if (!lastPoint) {\n                this._drawDot({ color, point });\n            }\n            else if (curve) {\n                this._drawCurve({ color, curve });\n            }\n            lastPoints.push({\n                time: point.time,\n                x: point.x,\n                y: point.y,\n            });\n        }\n    }\n    _strokeEnd(event) {\n        this._strokeUpdate(event);\n        if (typeof this.onEnd === 'function') {\n            this.onEnd(event);\n        }\n    }\n    _handlePointerEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.addEventListener('pointermove', this._handleMouseMove);\n        document.addEventListener('pointerup', this._handleMouseUp);\n    }\n    _handleMouseEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('mousedown', this._handleMouseDown);\n        this.canvas.addEventListener('mousemove', this._handleMouseMove);\n        document.addEventListener('mouseup', this._handleMouseUp);\n    }\n    _handleTouchEvents() {\n        this.canvas.addEventListener('touchstart', this._handleTouchStart);\n        this.canvas.addEventListener('touchmove', this._handleTouchMove);\n        this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n    _reset() {\n        this._lastPoints = [];\n        this._lastVelocity = 0;\n        this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n        this._ctx.fillStyle = this.penColor;\n    }\n    _createPoint(x, y) {\n        const rect = this.canvas.getBoundingClientRect();\n        return new Point(x - rect.left, y - rect.top, new Date().getTime());\n    }\n    _addPoint(point) {\n        const { _lastPoints } = this;\n        _lastPoints.push(point);\n        if (_lastPoints.length > 2) {\n            if (_lastPoints.length === 3) {\n                _lastPoints.unshift(_lastPoints[0]);\n            }\n            const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n            const curve = Bezier.fromPoints(_lastPoints, widths);\n            _lastPoints.shift();\n            return curve;\n        }\n        return null;\n    }\n    _calculateCurveWidths(startPoint, endPoint) {\n        const velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) +\n            (1 - this.velocityFilterWeight) * this._lastVelocity;\n        const newWidth = this._strokeWidth(velocity);\n        const widths = {\n            end: newWidth,\n            start: this._lastWidth,\n        };\n        this._lastVelocity = velocity;\n        this._lastWidth = newWidth;\n        return widths;\n    }\n    _strokeWidth(velocity) {\n        return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n    }\n    _drawCurveSegment(x, y, width) {\n        const ctx = this._ctx;\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n        this._isEmpty = false;\n    }\n    _drawCurve({ color, curve }) {\n        const ctx = this._ctx;\n        const widthDelta = curve.endWidth - curve.startWidth;\n        const drawSteps = Math.floor(curve.length()) * 2;\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        for (let i = 0; i < drawSteps; i += 1) {\n            const t = i / drawSteps;\n            const tt = t * t;\n            const ttt = tt * t;\n            const u = 1 - t;\n            const uu = u * u;\n            const uuu = uu * u;\n            let x = uuu * curve.startPoint.x;\n            x += 3 * uu * t * curve.control1.x;\n            x += 3 * u * tt * curve.control2.x;\n            x += ttt * curve.endPoint.x;\n            let y = uuu * curve.startPoint.y;\n            y += 3 * uu * t * curve.control1.y;\n            y += 3 * u * tt * curve.control2.y;\n            y += ttt * curve.endPoint.y;\n            const width = Math.min(curve.startWidth + ttt * widthDelta, this.maxWidth);\n            this._drawCurveSegment(x, y, width);\n        }\n        ctx.closePath();\n        ctx.fill();\n    }\n    _drawDot({ color, point, }) {\n        const ctx = this._ctx;\n        const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = color;\n        ctx.fill();\n    }\n    _fromData(pointGroups, drawCurve, drawDot) {\n        for (const group of pointGroups) {\n            const { color, points } = group;\n            if (points.length > 1) {\n                for (let j = 0; j < points.length; j += 1) {\n                    const basicPoint = points[j];\n                    const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n                    this.penColor = color;\n                    if (j === 0) {\n                        this._reset();\n                    }\n                    const curve = this._addPoint(point);\n                    if (curve) {\n                        drawCurve({ color, curve });\n                    }\n                }\n            }\n            else {\n                this._reset();\n                drawDot({\n                    color,\n                    point: points[0],\n                });\n            }\n        }\n    }\n    _toSVG() {\n        const pointGroups = this._data;\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const minX = 0;\n        const minY = 0;\n        const maxX = this.canvas.width / ratio;\n        const maxY = this.canvas.height / ratio;\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', this.canvas.width.toString());\n        svg.setAttribute('height', this.canvas.height.toString());\n        this._fromData(pointGroups, ({ color, curve }) => {\n            const path = document.createElement('path');\n            if (!isNaN(curve.control1.x) &&\n                !isNaN(curve.control1.y) &&\n                !isNaN(curve.control2.x) &&\n                !isNaN(curve.control2.y)) {\n                const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} ` +\n                    `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} ` +\n                    `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} ` +\n                    `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n                path.setAttribute('d', attr);\n                path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute('stroke', color);\n                path.setAttribute('fill', 'none');\n                path.setAttribute('stroke-linecap', 'round');\n                svg.appendChild(path);\n            }\n        }, ({ color, point }) => {\n            const circle = document.createElement('circle');\n            const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n            circle.setAttribute('r', dotSize.toString());\n            circle.setAttribute('cx', point.x.toString());\n            circle.setAttribute('cy', point.y.toString());\n            circle.setAttribute('fill', color);\n            svg.appendChild(circle);\n        });\n        const prefix = 'data:image/svg+xml;base64,';\n        const header = '<svg' +\n            ' xmlns=\"http://www.w3.org/2000/svg\"' +\n            ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' +\n            ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"` +\n            ` width=\"${maxX}\"` +\n            ` height=\"${maxY}\"` +\n            '>';\n        let body = svg.innerHTML;\n        if (body === undefined) {\n            const dummy = document.createElement('dummy');\n            const nodes = svg.childNodes;\n            dummy.innerHTML = '';\n            for (let i = 0; i < nodes.length; i += 1) {\n                dummy.appendChild(nodes[i].cloneNode(true));\n            }\n            body = dummy.innerHTML;\n        }\n        const footer = '</svg>';\n        const data = header + body + footer;\n        return prefix + btoa(data);\n    }\n}\n\nexport default SignaturePad;\n//# sourceMappingURL=signature_pad.js.map\n","<template>\n\t<div :style=\"{width:w,height:h}\" @touchmove.prevent>\n\t\t<canvas :id=\"uid\" class=\"canvas\" :data-uid=\"uid\" :disabled=\"disabled\"></canvas>\n\t</div>\n</template>\n\n<script>\n\timport SignaturePad from 'signature_pad'\n\texport default {\n\t\tname:\"vueSignature\",\n\t\tprops:{\n\t\t\tsigOption: {\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:()=>{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbackgroundColor:'rgb(255,255,255)',\n\t\t\t\t\t\tpenColor : 'rgb(0, 0, 0)'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\tw:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"100%\"\n\t\t\t},\n\t\t\th:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"100%\"\n\t\t\t},\n\t\t\tclearOnResize:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t},\n\t\t\twaterMark:{\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:()=>{\n\t\t\t\t\treturn {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabled:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t},\n\t\t\tdefaultUrl:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"\"\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tsig:()=>{},\n\t\t\t\toption:{\n\t\t\t\t\tbackgroundColor:'rgb(255,255,255)',\n\t\t\t\t\tpenColor : 'rgb(0, 0, 0)'\n\t\t\t\t},\n\t\t\t\tuid:\"\"\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tdisabled(val){\n\t\t\t\tvar _this = this\n\t\t\t\tif (val) {\n\t\t\t\t\t_this.sig.off()\n\t\t\t\t} else {\n\t\t\t\t\t_this.sig.on()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tvar _this = this;\n\t\t\tthis.uid = \"canvas\" + _this._uid\n\t\t\tvar sigOptions = Object.keys(_this.sigOption);\n\t\t\tfor(var item of sigOptions){\n\t\t\t\t_this.option[item] = _this.sigOption[item]\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\tdraw(){\n\t\t\t\tvar _this = this;\n\t\t\t\tvar canvas = document.getElementById(_this.uid)\n\t\t\t\t_this.sig = new SignaturePad(canvas,_this.option);\n\t\t\t\t\n\t\t\t\tfunction resizeCanvas(c) {\n\t\t\t\t\tvar url;\n\t\t\t\t\tif(!_this.isEmpty()){\n\t\t\t\t\t\turl = _this.save();\n\t\t\t\t\t}\n\t\t\t\t\tvar ratio =  Math.max(window.devicePixelRatio || 1, 1);\n\t\t\t\t\tc.width = c.offsetWidth * ratio;\n\t\t\t\t\tc.height = c.offsetHeight * ratio;\n\t\t\t\t\tc.getContext(\"2d\").scale(ratio, ratio);\n\t\t\t\t\t_this.clear();\n\t\t\t\t\t!_this.clearOnResize && url !== undefined && _this.fromDataURL(url)\n\t\t\t\t\tObject.keys(_this.waterMark).length && _this.addWaterMark(_this.waterMark)\n\t\t\t\t}\n\t\t\t\twindow.addEventListener(\"resize\", resizeCanvas(canvas));\n\t\t\t\tresizeCanvas(canvas);\n\n\t\t\t\tif (_this.defaultUrl !== \"\"){\n\t\t\t\t\t_this.fromDataURL(_this.defaultUrl);\n\t\t\t\t}\n\n\t\t\t\tif (_this.disabled) {\n\t\t\t\t\t_this.sig.off();\n\t\t\t\t} else {\n\t\t\t\t\t_this.sig.on();\n\t\t\t\t}\n\t\t\t},\n\t\t\tclear(){\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.sig.clear();\n\t\t\t},\n\t\t\tsave(format){\n\t\t\t\tvar _this = this;\n\t\t\t\treturn format ? _this.sig.toDataURL(format) :  _this.sig.toDataURL()\n\t\t\t\t// signaturePad.toDataURL(); // save image as PNG\n\t\t\t\t// signaturePad.toDataURL(\"image/jpeg\"); // save image as JPEG\n\t\t\t\t// signaturePad.toDataURL(\"image/svg+xml\"); // save image as SVG\n\t\t\t},\n\t\t\tfromDataURL(url){\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.sig.fromDataURL(url)\n\t\t\t},\n\t\t\tisEmpty(){\n\t\t\t\tvar _this = this;\n\t\t\t\treturn _this.sig.isEmpty();\n\t\t\t},\n\t\t\tundo(){\n\t\t\t\tvar _this = this;\n\t\t\t\tvar data = _this.sig.toData();\n\t\t\t\tif(data){\n\t\t\t\t\tdata.pop()\n\t\t\t\t\t_this.sig.fromData(data);\n\t\t\t\t}\n\t\t\t},\n\t\t\taddWaterMark(data){\n\t\t\t\tvar _this = this;\n\t\t\t\tif(!(Object.prototype.toString.call(data) == '[object Object]')){\n\t\t\t\t\tthrow new Error(\"Expected Object, got \"+typeof data+\".\")\n\t\t\t\t}else{\n\t\t\t\t\tvar vCanvas = document.getElementById(_this.uid);\n\n\t\t\t\t\tvar textData = {\n\t\t\t\t\t\t\ttext:data.text || '',\n\t\t\t\t\t\t\tx:data.x || 20,\n\t\t\t\t\t\t\ty:data.y || 20,\n\t\t\t\t\t\t\tsx:data.sx || 40,\n\t\t\t\t\t\t\tsy:data.sy || 40\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tvar ctx = vCanvas.getContext('2d');\n\t\t\t\t\t\tctx.font = data.font || '20px sans-serif';\n\t\t\t\t\t\tctx.fillStyle = data.fillStyle || \"#333\";\n\t\t\t\t\t\tctx.strokeStyle = data.strokeStyle || \"#333\";    \n    \t\t\t\t\tif(data.style == 'all'){\n\t\t\t\t\t\t\tctx.fillText(textData.text,textData.x,textData.y);\n\t\t\t\t\t\t\tctx.strokeText(textData.text,textData.sx,textData.sx);\n\t\t\t\t\t\t}else if(data.style == 'stroke'){\n\t\t\t\t\t\t\tctx.strokeText(textData.text,textData.sx,textData.sx);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tctx.fillText(textData.text,textData.x,textData.y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t_this.sig._isEmpty = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tvar _this = this;\n\t\t\tthis.$nextTick().then(() => {\n\t\t\t\t_this.draw()\n\t\t\t});\n\t\t}\n\t}\n</script>\n\n<style>\n\tcanvas {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vueSignature.vue?vue&type=template&id=0d31f4e4&\"\nimport script from \"./vueSignature.vue?vue&type=script&lang=js&\"\nexport * from \"./vueSignature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vueSignature.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueSignature from './components/vueSignature.vue'\nexport default VueSignature","<template>\n    <div class=\"page\">\n        <div class=\"page-title\">\n            <div>\n                <p class=\"title\">请在屏幕下方签上您的真实姓名</p>\n                <p class=\"text-p\">请保持字迹工整，签名完成后点击下方提交按钮</p>\n            </div>\n        </div>\n        <div>\n            <vueSignature ref=\"signature\" :sigOption=\"option\" :w=\"width\" :h=\"height\"\n                          :disabled=\"disabled\"></vueSignature>\n        </div>\n\n        <div class=\"footer\">\n            <button class=\"clear\" @click=\"clear\">重签</button>\n            <button class=\"save\" @click=\"save\">提交</button>\n        </div>\n    </div>\n</template>\n\n<script>\n    import vueSignature from \"vue-signature\"\n\n    export default {\n        name: \"autograph\",\n        components: {\n            vueSignature\n        },\n        data() {\n            return {\n                option: {\n                    penColor: \"rgb(0, 0, 0)\",\n                    backgroundColor: \"#F5F7F9\"\n                },\n                disabled: false,\n                width: '100%',\n                height: '',\n                signUrl: null\n            };\n        },\n        mounted() {\n            console.log(document.documentElement.clientHeight)\n            this.height = (document.documentElement.clientHeight - 250) + 'px'\n        },\n        methods: {\n            save() {\n                if (this.isEmpty()) {\n                    this.$toast('请在屏幕上签名！')\n                    return false\n                }\n                this.$dialog.confirm({\n                    message: '您已录入签名信息是否确认返回',\n                    confirmButtonColor: '#00B095'\n                })\n                    .then(() => {\n                        var _this = this;\n                        var png = _this.$refs.signature.save()\n                        var jpeg = _this.$refs.signature.save('image/jpeg')\n                        var svg = _this.$refs.signature.save('image/svg+xml');\n                        console.log(png);\n                        // console.log(jpeg)\n                        // console.log(svg)\n                        this.$api.uploadfile(this.base64ToFile(png, new Date() + '.png')).then((res) => {\n                            this.signUrl = res.url;\n                            this.$api.protocolUpdate({\n                                signUrl: this.signUrl\n                            }).then(() => {\n                                history.back();\n                            })\n                        })\n                    })\n                    .catch(() => {\n                        // on cancel\n                    });\n\n            },\n            //转成文件\n            base64ToFile(urlData, fileName) {\n                this.$loading.show();\n                let arr = urlData.split(',');\n                let mime = arr[0].match(/:(.*?);/)[1];\n                let bytes = atob(arr[1]); // 解码base64\n                let n = bytes.length\n                let ia = new Uint8Array(n);\n                while (n--) {\n                    ia[n] = bytes.charCodeAt(n);\n                }\n                return new File([ia], fileName, {type: mime});\n            },\n            clear() {\n                var _this = this;\n                _this.$refs.signature.clear();\n            },\n            isEmpty() {\n                var _this = this;\n                return _this.$refs.signature.isEmpty();\n            },\n            undo() {\n                var _this = this;\n                _this.$refs.signature.undo();\n            },\n            addWaterMark() {\n                var _this = this;\n                _this.$refs.signature.addWaterMark({\n                    text: \"mark text\",          // watermark text, > default ''\n                    font: \"20px Arial\",         // mark font, > default '20px sans-serif'\n                    style: 'all',               // fillText and strokeText,  'all'/'stroke'/'fill', > default 'fill\n                    fillStyle: \"red\",           // fillcolor, > default '#333'\n                    strokeStyle: \"blue\",\t   // strokecolor, > default '#333'\n                    x: 100,                     // fill positionX, > default 20\n                    y: 200,                     // fill positionY, > default 20\n                    sx: 100,                    // stroke positionX, > default 40\n                    sy: 200                     // stroke positionY, > default 40\n                });\n            },\n            fromDataURL(url) {\n                var _this = this;\n                _this.$refs.signature.fromDataURL(\"data:image/png;base64,iVBORw0K...\");\n            },\n            handleDisabled() {\n                var _this = this;\n                _this.disabled = !_this.disabled\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .page {\n        width: 100%;\n        height: 100vh;\n        background: #F5F7F9;\n    }\n\n    .page-title {\n        height: 200px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .title {\n        font-size: 36px;\n        font-weight: 500;\n        color: #333333;\n        text-align: center;\n    }\n\n    .text-p {\n        font-size: 28px;\n        font-weight: 400;\n        color: #7F8188;\n        text-align: center;\n    }\n\n    .footer {\n        padding-bottom: 88px;\n        text-align: center;\n    }\n\n    .footer .clear {\n        width: 160px;\n        height: 60px;\n        background: rgba(0, 176, 149, 0.1);\n        border-radius: 30px;\n        margin-bottom: 58px;\n        border: none;\n        font-size: 32px;\n        font-weight: 400;\n        color: #00B095;\n    }\n\n    .footer .save {\n        width: 690px;\n        height: 90px;\n        background: #00B095;\n        border-radius: 68px;\n        border: none;\n        font-size: 32px;\n        font-weight: 400;\n        color: #FFFFFF;\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autograph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autograph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autograph.vue?vue&type=template&id=96df3032&scoped=true&\"\nimport script from \"./autograph.vue?vue&type=script&lang=js&\"\nexport * from \"./autograph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./autograph.vue?vue&type=style&index=0&id=96df3032&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96df3032\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autograph.vue?vue&type=style&index=0&id=96df3032&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autograph.vue?vue&type=style&index=0&id=96df3032&scoped=true&lang=css&\"","import mod from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/index.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/index.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./vueSignature.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}